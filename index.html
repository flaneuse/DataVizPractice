<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Datavizpractice by tessam30</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Datavizpractice</h1>
      <h2 class="project-tagline">Repository for storing various code focused on data visualization techniques and tools.</h2>
      <a href="https://github.com/tessam30/DataVizPractice" class="btn">View on GitHub</a>
      <a href="https://github.com/tessam30/DataVizPractice/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/tessam30/DataVizPractice/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to GitHub Pages.</h3>

<p>Welcome to my data visualization scratch page. Find code and data visualization examples sprinkled throughout.</p>

<pre><code>$ cd your_repo_root/repo_name
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<p>If you're using the GitHub for Mac, simply sync your repository and you'll see the new branch.</p>

<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sample Code</h3>

<p>Check out sample R code to visualize data from the World Bank's World Development Indicator Database</p>

<pre><code>
  # --- Clear the workspace
remove(list = ls())

# --- Load libraries & set working directory
libs <- c ("ggplot2", "dplyr", "RColorBrewer", "grid", "WDI", 
           "directlabels", "gridExtra")

# --- Load required libraries
lapply(libs, require, character.only=T)

# --- Search WDI database for urban population variables
WDIsearch('urban population')

# --- Extract urban population variable into new data frame
# --- Select extra = TRUE to extract extra variables and use tbl_df for dplyr
d <- tbl_df(WDI(country = "all", indicator = "SP.URB.TOTL.IN.ZS",
         start = 1960, end = 2010, extra = TRUE, cache = NULL))

# Remove "(developing only)" from country name
d$country <- gsub("(developing only)", "", d$country, fixed = TRUE) 

# --- Browse the names to get a sense of what is in the data
head(d)
tail(d)
unique(d$iso3c)

# --- Looking for EAP, ECA, LAC, MENA, SA, SSA using dplyr and ISO3 codes
#     see http://data.worldbank.org/developers/api-overview?print&book_recurse
fd <- filter(d, iso3c == "EAP" | iso3c == "ECA" | iso3c == "LAC" |
          iso3c == "MNA" | iso3c == "SSA" | iso3c == "SAS") %>%
          arrange(country, year) 


# --- Create a unique id for each region
fd$id <- c(as.factor(fd$country))

# --- Lab RGB colors in case of customization
redL   	<- c("#B71234")
dredL 	<- c("#822443")
dgrayL 	<- c("#565A5C")
lblueL 	<- c("#7090B7")
dblueL 	<- c("#003359")
lgrayL	<- c("#CECFCB")


# --- First basic plot of data using paths and points
pf <- ggplot(fd, aes(y = SP.URB.TOTL.IN.ZS, x = year, colour = country)) + #define basic plot
        geom_path(size = 0.25) + geom_point(size = 2.5) + #customize plot type
        geom_hline(yintercept = 50, linetype="dotted", size = 1, alpha = .10) #add in horizontal lize

# --- Set legend status
legstat <- c("none")

# --- Customize plot 
pp <- pf + theme(legend.position = legstat, legend.title=element_blank(), 
          panel.border = element_blank(), legend.key = element_blank(), 
          legend.text = element_text(size = 14), #Customize legend
          plot.title = element_text(hjust = 0, size = 17, face = "bold"), # Adjust plot title
          panel.background = element_rect(fill = "white"), # Make background white 
          panel.grid.major = element_blank(), panel.grid.minor = element_blank(), #remove grid    
          axis.text.y = element_text(hjust = -0.5, size = 14, colour = dgrayL), #soften axis text
          axis.text.x = element_text(hjust = .5, size = 14, colour = dgrayL),
          axis.ticks.y = element_blank(), # remove y-axis ticks
          #axis.ticks.x=element_blank(), # remove x-axis ticks
          #plot.margin = unit(c(1,1,1,1), "cm"),
          plot.title = element_text(lineheight = 1 ), # 
          panel.grid.major = element_blank(), # remove facet formatting
          panel.grid.minor = element_blank(),
          strip.background = element_blank(),
          strip.text.x = element_text(size = 13, colour = dgrayL, face = "bold"), # format facet panel text
          panel.border = element_rect(colour = "black"),
          panel.margin = unit(2, "lines")) + # Move plot title up
          scale_x_continuous(breaks = seq(1960, 2010, 10), expand = c(0.05,0.05)) + #customize x-axis
          scale_y_continuous(breaks = seq(0, 100, 10), limits = c(0, 100)) + # customize y-axis
          labs(x = "", y = "Urban population (% of total)\n", # label y-axis and create title
          title = "East Asia has experienced a rapid increase in the percent of the population living in urban areas in the last 30 years.", size = 13) +
          facet_wrap(~ country, nrow = 1) + scale_colour_brewer(palette="Set2") # apply faceting and color palette
print(pp)

# Add a footnote to the graph using the gridExtra package
g <- arrangeGrob(pp, sub = textGrob("Source: World Bank World Development Indicators"
                , x = 0, hjust = -0.25, vjust=-0.25, 
                gp = gpar(fontface = "italic", fontsize = 12, col = dgrayL)))
  
  
</code></pre>


<h3>
<a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rather Drive Stick?</h3>

<p> </p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out the documentation at <a href="https://help.github.com/pages">https://help.github.com/pages</a> or contact <a href="mailto:support@github.com">support@github.com</a> and weâ€™ll help you sort it out.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/tessam30/DataVizPractice">Datavizpractice</a> is maintained by <a href="https://github.com/tessam30">tessam30</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

